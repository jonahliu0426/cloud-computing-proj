{"ast":null,"code":"var _jsxFileName = \"/Users/jia78/Desktop/nyu-mscs/9223-cloud-computing/cloud-computing-proj/cloud-computing-proj/src/components/shared/FollowButton.js\";\nimport { useMutation } from \"@apollo/client\";\nimport { Button } from \"@material-ui/core\";\nimport React from \"react\";\nimport { UserContext } from \"../../App\";\nimport { FOLLOW_USER, UNFOLLOW_USER } from \"../../graphql/mutations\";\nimport { useFollowButtonStyles } from \"../../styles\";\n\nfunction FollowButton({\n  id,\n  side\n}) {\n  const {\n    me,\n    currentUserId,\n    followingIds\n  } = React.useContext(UserContext);\n  const isAlreadyFollowing = followingIds.some(followingId => followingId === id);\n  const classes = useFollowButtonStyles({\n    side\n  });\n  const [isFollowing, setFolloing] = React.useState(isAlreadyFollowing);\n  const [hover, setHover] = React.useState(false);\n  const [followUser] = useMutation(FOLLOW_USER);\n  const [unfollowUser] = useMutation(UNFOLLOW_USER);\n\n  function handleFollowUser() {\n    setFolloing(true);\n    const variables = {\n      userIdToFollow: id,\n      currentUserId\n    };\n    followUser({\n      variables\n    });\n  }\n\n  function handleUnfollowUser() {\n    setFolloing(false);\n    const variables = {\n      userIdToUnfollow: id,\n      currentUserId\n    };\n    unfollowUser({\n      variables\n    });\n  }\n\n  const FollowButton = React.createElement(Button, {\n    variant: side ? \"text\" : \"contained\",\n    color: \"primary\",\n    className: classes.button,\n    onClick: handleFollowUser,\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"Follow\");\n  const FollowingButton = React.createElement(Button, {\n    variant: side ? \"text\" : \"outlined\",\n    className: classes.followingButton,\n    onClick: handleUnfollowUser,\n    fullWidth: true,\n    onMouseOver: () => setHover(true),\n    onMouseOut: () => setHover(false),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, hover ? \"Unfollow\" : \"Following\");\n  return isFollowing ? FollowingButton : FollowButton;\n}\n\nexport default FollowButton;","map":{"version":3,"sources":["/Users/jia78/Desktop/nyu-mscs/9223-cloud-computing/cloud-computing-proj/cloud-computing-proj/src/components/shared/FollowButton.js"],"names":["useMutation","Button","React","UserContext","FOLLOW_USER","UNFOLLOW_USER","useFollowButtonStyles","FollowButton","id","side","me","currentUserId","followingIds","useContext","isAlreadyFollowing","some","followingId","classes","isFollowing","setFolloing","useState","hover","setHover","followUser","unfollowUser","handleFollowUser","variables","userIdToFollow","handleUnfollowUser","userIdToUnfollow","button","FollowingButton","followingButton"],"mappings":";AAAA,SAASA,WAAT,QAA4B,gBAA5B;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,WAA5B;AACA,SAASC,WAAT,EAAsBC,aAAtB,QAA2C,yBAA3C;AACA,SAASC,qBAAT,QAAsC,cAAtC;;AAEA,SAASC,YAAT,CAAsB;AAAEC,EAAAA,EAAF;AAAMC,EAAAA;AAAN,CAAtB,EAAoC;AAClC,QAAM;AAAEC,IAAAA,EAAF;AAAMC,IAAAA,aAAN;AAAqBC,IAAAA;AAArB,MAAsCV,KAAK,CAACW,UAAN,CAAiBV,WAAjB,CAA5C;AACA,QAAMW,kBAAkB,GAAGF,YAAY,CAACG,IAAb,CAAmBC,WAAD,IAAiBA,WAAW,KAAKR,EAAnD,CAA3B;AACA,QAAMS,OAAO,GAAGX,qBAAqB,CAAC;AAAEG,IAAAA;AAAF,GAAD,CAArC;AACA,QAAM,CAACS,WAAD,EAAcC,WAAd,IAA6BjB,KAAK,CAACkB,QAAN,CAAeN,kBAAf,CAAnC;AACA,QAAM,CAACO,KAAD,EAAQC,QAAR,IAAoBpB,KAAK,CAACkB,QAAN,CAAe,KAAf,CAA1B;AACA,QAAM,CAACG,UAAD,IAAevB,WAAW,CAACI,WAAD,CAAhC;AACA,QAAM,CAACoB,YAAD,IAAiBxB,WAAW,CAACK,aAAD,CAAlC;;AAGA,WAASoB,gBAAT,GAA4B;AAC1BN,IAAAA,WAAW,CAAC,IAAD,CAAX;AACA,UAAMO,SAAS,GAAG;AAChBC,MAAAA,cAAc,EAAEnB,EADA;AAEhBG,MAAAA;AAFgB,KAAlB;AAIAY,IAAAA,UAAU,CAAC;AAAEG,MAAAA;AAAF,KAAD,CAAV;AACD;;AAED,WAASE,kBAAT,GAA8B;AAC5BT,IAAAA,WAAW,CAAC,KAAD,CAAX;AACA,UAAMO,SAAS,GAAG;AAChBG,MAAAA,gBAAgB,EAAErB,EADF;AAEhBG,MAAAA;AAFgB,KAAlB;AAIAa,IAAAA,YAAY,CAAC;AAAEE,MAAAA;AAAF,KAAD,CAAZ;AACD;;AAED,QAAMnB,YAAY,GAChB,oBAAC,MAAD;AACE,IAAA,OAAO,EAAEE,IAAI,GAAG,MAAH,GAAY,WAD3B;AAEE,IAAA,KAAK,EAAC,SAFR;AAGE,IAAA,SAAS,EAAEQ,OAAO,CAACa,MAHrB;AAIE,IAAA,OAAO,EAAEL,gBAJX;AAKE,IAAA,SAAS,MALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAYA,QAAMM,eAAe,GACnB,oBAAC,MAAD;AACE,IAAA,OAAO,EAAEtB,IAAI,GAAG,MAAH,GAAY,UAD3B;AAEE,IAAA,SAAS,EAAEQ,OAAO,CAACe,eAFrB;AAGE,IAAA,OAAO,EAAEJ,kBAHX;AAIE,IAAA,SAAS,MAJX;AAKE,IAAA,WAAW,EAAE,MAAMN,QAAQ,CAAC,IAAD,CAL7B;AAME,IAAA,UAAU,EAAE,MAAMA,QAAQ,CAAC,KAAD,CAN5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASGD,KAAK,GAAG,UAAH,GAAgB,WATxB,CADF;AAcA,SAAOH,WAAW,GAAGa,eAAH,GAAqBxB,YAAvC;AACD;;AAED,eAAeA,YAAf","sourcesContent":["import { useMutation } from \"@apollo/client\";\nimport { Button } from \"@material-ui/core\";\nimport React from \"react\";\nimport { UserContext } from \"../../App\";\nimport { FOLLOW_USER, UNFOLLOW_USER } from \"../../graphql/mutations\";\nimport { useFollowButtonStyles } from \"../../styles\";\n\nfunction FollowButton({ id, side }) {\n  const { me, currentUserId, followingIds } = React.useContext(UserContext)\n  const isAlreadyFollowing = followingIds.some((followingId) => followingId === id)\n  const classes = useFollowButtonStyles({ side });\n  const [isFollowing, setFolloing] = React.useState(isAlreadyFollowing);\n  const [hover, setHover] = React.useState(false);\n  const [followUser] = useMutation(FOLLOW_USER);\n  const [unfollowUser] = useMutation(UNFOLLOW_USER);\n\n\n  function handleFollowUser() {\n    setFolloing(true);\n    const variables = {\n      userIdToFollow: id,\n      currentUserId\n    }\n    followUser({ variables });\n  }\n\n  function handleUnfollowUser() {\n    setFolloing(false);\n    const variables = {\n      userIdToUnfollow: id,\n      currentUserId\n    }\n    unfollowUser({ variables });\n  }\n\n  const FollowButton = (\n    <Button\n      variant={side ? \"text\" : \"contained\"}\n      color=\"primary\"\n      className={classes.button}\n      onClick={handleFollowUser}\n      fullWidth\n    >\n      Follow\n    </Button>\n  )\n\n  const FollowingButton = (\n    <Button\n      variant={side ? \"text\" : \"outlined\"}\n      className={classes.followingButton}\n      onClick={handleUnfollowUser}\n      fullWidth\n      onMouseOver={() => setHover(true)}\n      onMouseOut={() => setHover(false)}\n\n    >\n      {hover ? \"Unfollow\" : \"Following\"}\n    </Button>\n  )\n\n  return isFollowing ? FollowingButton : FollowButton;\n}\n\nexport default FollowButton;\n"]},"metadata":{},"sourceType":"module"}