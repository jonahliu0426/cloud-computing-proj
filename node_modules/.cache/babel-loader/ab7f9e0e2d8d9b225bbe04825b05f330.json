{"ast":null,"code":"import { ApolloClient, gql, InMemoryCache } from \"@apollo/client\";\nimport { GraphQLWsLink } from \"@apollo/client/link/subscriptions\";\nimport { createClient } from \"graphql-ws\";\nimport { WebSocketLink } from \"apollo-link-ws\";\nimport { AuthContext } from \"../auth\";\nimport React from \"react\"; // const isIn = authState.status === \"in\";\n// const headers = isIn ? { Authorization: `Bearer ${authState.token}`, 'x-hasura-admin-secret': 'jk27882788' } : {};\n// const httpLink = new HttpLink({\n//     uri: \"https://your-heroku-domain/v1alpha1/graphql\",\n//     headers\n// });\n\nconst client = new ApolloClient({\n  link: new WebSocketLink({\n    uri: \"wss://instagram-react-webapp.herokuapp.com/v1/graphql\",\n    options: {\n      reconnect: true,\n      connectionParams: {\n        headers: {\n          'x-hasura-admin-secret': 'jk27882788'\n        }\n      }\n    }\n  }),\n  cache: new InMemoryCache()\n});\nexport default client;","map":{"version":3,"sources":["/Users/jia78/Desktop/nyu-mscs/9223-cloud-computing/cloud-computing-proj/cloud-computing-proj/src/graphql/client.js"],"names":["ApolloClient","gql","InMemoryCache","GraphQLWsLink","createClient","WebSocketLink","AuthContext","React","client","link","uri","options","reconnect","connectionParams","headers","cache"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,GAAvB,EAA4BC,aAA5B,QAAiD,gBAAjD;AACA,SAASC,aAAT,QAA8B,mCAA9B;AACA,SAASC,YAAT,QAA6B,YAA7B;AACA,SAASC,aAAT,QAA8B,gBAA9B;AACA,SAASC,WAAT,QAA4B,SAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;AAEA;AAEA;AACA;AACA;AACA;;AAGA,MAAMC,MAAM,GAAG,IAAIR,YAAJ,CAAiB;AAC5BS,EAAAA,IAAI,EAAE,IAAIJ,aAAJ,CAAkB;AACpBK,IAAAA,GAAG,EAAE,uDADe;AAEpBC,IAAAA,OAAO,EAAE;AACLC,MAAAA,SAAS,EAAE,IADN;AAELC,MAAAA,gBAAgB,EAAE;AACdC,QAAAA,OAAO,EAAE;AACL,mCAAyB;AADpB;AADK;AAFb;AAFW,GAAlB,CADsB;AAY5BC,EAAAA,KAAK,EAAE,IAAIb,aAAJ;AAZqB,CAAjB,CAAf;AAeA,eAAeM,MAAf","sourcesContent":["import { ApolloClient, gql, InMemoryCache } from \"@apollo/client\";\nimport { GraphQLWsLink } from \"@apollo/client/link/subscriptions\";\nimport { createClient } from \"graphql-ws\";\nimport { WebSocketLink } from \"apollo-link-ws\";\nimport { AuthContext } from \"../auth\";\nimport React from \"react\";\n\n// const isIn = authState.status === \"in\";\n\n// const headers = isIn ? { Authorization: `Bearer ${authState.token}`, 'x-hasura-admin-secret': 'jk27882788' } : {};\n\n// const httpLink = new HttpLink({\n//     uri: \"https://your-heroku-domain/v1alpha1/graphql\",\n//     headers\n// });\n\n\nconst client = new ApolloClient({\n    link: new WebSocketLink({\n        uri: \"wss://instagram-react-webapp.herokuapp.com/v1/graphql\",\n        options: {\n            reconnect: true,\n            connectionParams: {\n                headers: {\n                    'x-hasura-admin-secret': 'jk27882788'\n                }\n            }\n        }\n    }),\n    cache: new InMemoryCache(),\n});\n\nexport default client;"]},"metadata":{},"sourceType":"module"}