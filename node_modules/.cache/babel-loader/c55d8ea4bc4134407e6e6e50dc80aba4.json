{"ast":null,"code":"var _jsxFileName = \"/Users/jia78/Desktop/nyu-mscs/9223-cloud-computing/cloud-computing-proj/cloud-computing-proj/src/components/shared/ProfilePicture.js\";\nimport { useMutation } from \"@apollo/client\";\nimport { Person } from \"@material-ui/icons\";\nimport React from \"react\";\nimport { EDIT_USER_AVATAR } from \"../../graphql/mutations\";\nimport { useProfilePictureStyles } from \"../../styles\";\nimport handleImageUpload from \"../../utils/handleImageUpload\";\n\nfunction ProfilePicture({\n  user,\n  size,\n  isOwner,\n  image = \"https://reedbarger.nyc3.digitaloceanspaces.com/reactbootcamp/avatar.png\"\n}) {\n  const classes = useProfilePictureStyles({\n    size,\n    isOwner\n  });\n  const [img, setImg] = React.useState(image);\n  const inputRef = React.useRef();\n  const [editUserAvatar] = useMutation(EDIT_USER_AVATAR);\n\n  function openFileInput() {\n    inputRef.current.click();\n  }\n\n  const handleUpdateProfilePic = async event => {\n    await handleImageUpload({\n      user,\n      media: event.target.files[0],\n      stateFunction: setImg,\n      gqlFunction: editUserAvatar,\n      actionType: 'UPLOAD_AVATAR'\n    });\n  };\n\n  return React.createElement(\"section\", {\n    className: classes.section,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    style: {\n      display: 'none'\n    },\n    ref: inputRef,\n    type: \"file\",\n    onChange: handleUpdateProfilePic,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }), image ? React.createElement(\"div\", {\n    className: classes.wrapper,\n    onClick: isOwner ? openFileInput : () => null,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: img,\n    alt: \"user profile\",\n    className: classes.image,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  })) : React.createElement(\"div\", {\n    className: classes.wrapper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(Person, {\n    className: classes.person,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  })));\n}\n\nexport default ProfilePicture;","map":{"version":3,"sources":["/Users/jia78/Desktop/nyu-mscs/9223-cloud-computing/cloud-computing-proj/cloud-computing-proj/src/components/shared/ProfilePicture.js"],"names":["useMutation","Person","React","EDIT_USER_AVATAR","useProfilePictureStyles","handleImageUpload","ProfilePicture","user","size","isOwner","image","classes","img","setImg","useState","inputRef","useRef","editUserAvatar","openFileInput","current","click","handleUpdateProfilePic","event","media","target","files","stateFunction","gqlFunction","actionType","section","display","wrapper","person"],"mappings":";AAAA,SAASA,WAAT,QAA4B,gBAA5B;AACA,SAASC,MAAT,QAAuB,oBAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,gBAAT,QAAiC,yBAAjC;AACA,SAASC,uBAAT,QAAwC,cAAxC;AACA,OAAOC,iBAAP,MAA8B,+BAA9B;;AAEA,SAASC,cAAT,CAAwB;AACtBC,EAAAA,IADsB;AAEtBC,EAAAA,IAFsB;AAGtBC,EAAAA,OAHsB;AAItBC,EAAAA,KAAK,GAAG;AAJc,CAAxB,EAKG;AACD,QAAMC,OAAO,GAAGP,uBAAuB,CAAC;AAAEI,IAAAA,IAAF;AAAQC,IAAAA;AAAR,GAAD,CAAvC;AACA,QAAM,CAACG,GAAD,EAAMC,MAAN,IAAgBX,KAAK,CAACY,QAAN,CAAeJ,KAAf,CAAtB;AACA,QAAMK,QAAQ,GAAGb,KAAK,CAACc,MAAN,EAAjB;AACA,QAAM,CAACC,cAAD,IAAmBjB,WAAW,CAACG,gBAAD,CAApC;;AACA,WAASe,aAAT,GAAyB;AACvBH,IAAAA,QAAQ,CAACI,OAAT,CAAiBC,KAAjB;AACD;;AAED,QAAMC,sBAAsB,GAAG,MAAOC,KAAP,IAAiB;AAC9C,UAAMjB,iBAAiB,CAAC;AACtBE,MAAAA,IADsB;AAEtBgB,MAAAA,KAAK,EAAED,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAFe;AAGtBC,MAAAA,aAAa,EAAEb,MAHO;AAItBc,MAAAA,WAAW,EAAEV,cAJS;AAKtBW,MAAAA,UAAU,EAAE;AALU,KAAD,CAAvB;AAOD,GARD;;AAUA,SACE;AAAS,IAAA,SAAS,EAAEjB,OAAO,CAACkB,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,KAAK,EAAE;AAAEC,MAAAA,OAAO,EAAE;AAAX,KADT;AAEE,IAAA,GAAG,EAAEf,QAFP;AAGE,IAAA,IAAI,EAAC,MAHP;AAIE,IAAA,QAAQ,EAAEM,sBAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAOGX,KAAK,GACJ;AAAK,IAAA,SAAS,EAAEC,OAAO,CAACoB,OAAxB;AACE,IAAA,OAAO,EAAEtB,OAAO,GAAGS,aAAH,GAAmB,MAAM,IAD3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE;AAAK,IAAA,GAAG,EAAEN,GAAV;AAAe,IAAA,GAAG,EAAC,cAAnB;AAAkC,IAAA,SAAS,EAAED,OAAO,CAACD,KAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADI,GAMJ;AAAK,IAAA,SAAS,EAAEC,OAAO,CAACoB,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAEpB,OAAO,CAACqB,MAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAbJ,CADF;AAoBD;;AAED,eAAe1B,cAAf","sourcesContent":["import { useMutation } from \"@apollo/client\";\nimport { Person } from \"@material-ui/icons\";\nimport React from \"react\";\nimport { EDIT_USER_AVATAR } from \"../../graphql/mutations\";\nimport { useProfilePictureStyles } from \"../../styles\";\nimport handleImageUpload from \"../../utils/handleImageUpload\";\n\nfunction ProfilePicture({\n  user,\n  size,\n  isOwner,\n  image = \"https://reedbarger.nyc3.digitaloceanspaces.com/reactbootcamp/avatar.png\"\n}) {\n  const classes = useProfilePictureStyles({ size, isOwner });\n  const [img, setImg] = React.useState(image);\n  const inputRef = React.useRef();\n  const [editUserAvatar] = useMutation(EDIT_USER_AVATAR);\n  function openFileInput() {\n    inputRef.current.click();\n  }\n\n  const handleUpdateProfilePic = async (event) => {\n    await handleImageUpload({\n      user,\n      media: event.target.files[0],\n      stateFunction: setImg,\n      gqlFunction: editUserAvatar,\n      actionType: 'UPLOAD_AVATAR'\n    });\n  }\n\n  return (\n    <section className={classes.section}>\n      <input\n        style={{ display: 'none' }}\n        ref={inputRef}\n        type=\"file\"\n        onChange={handleUpdateProfilePic}\n      />\n      {image ? (\n        <div className={classes.wrapper}\n          onClick={isOwner ? openFileInput : () => null}>\n          <img src={img} alt=\"user profile\" className={classes.image} />\n        </div>\n      ) : (\n        <div className={classes.wrapper}>\n          <Person className={classes.person} />\n        </div>\n      )}\n    </section>\n  )\n}\n\nexport default ProfilePicture;\n"]},"metadata":{},"sourceType":"module"}