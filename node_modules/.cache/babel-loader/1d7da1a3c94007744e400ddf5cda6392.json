{"ast":null,"code":"import _objectWithoutPropertiesLoose from '@babel/runtime/helpers/objectWithoutPropertiesLoose';\nimport _extends from '@babel/runtime/helpers/extends';\nimport { useRef, useEffect, createElement } from 'react';\nimport { useGetSetState, useEffectOnce, useUpdateEffect } from 'react-use';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\n\nvar clamp = function clamp(num, lower, upper) {\n  num = num <= upper ? num : upper;\n  num = num >= lower ? num : lower;\n  return num;\n};\n\nvar increment = function increment(progress) {\n  var amount = 0;\n\n  if (progress >= 0 && progress < 0.2) {\n    amount = 0.1;\n  } else if (progress >= 0.2 && progress < 0.5) {\n    amount = 0.04;\n  } else if (progress >= 0.5 && progress < 0.8) {\n    amount = 0.02;\n  } else if (progress >= 0.8 && progress < 0.99) {\n    amount = 0.005;\n  }\n\n  return clamp(progress + amount, 0, 0.994);\n};\n\nvar isRunning = false;\nvar pending = [];\n\nvar next = function next() {\n  isRunning = true;\n  var cb = pending.shift();\n\n  if (cb) {\n    return cb(next);\n  }\n\n  isRunning = false;\n};\n\nvar clear = function clear() {\n  isRunning = false;\n  pending = [];\n};\n\nvar queue = function queue(cb) {\n  pending.push(cb);\n\n  if (!isRunning && pending.length === 1) {\n    next();\n  }\n};\n\nvar handle;\n\nvar cancel = function cancel() {\n  if (handle) {\n    window.cancelAnimationFrame(handle);\n  }\n};\n\nvar timeout = function timeout(callback, delay) {\n  var deltaTime;\n  var start;\n\n  var frame = function frame(time) {\n    start = start || time;\n    deltaTime = time - start;\n\n    if (deltaTime > delay) {\n      callback();\n      return;\n    }\n\n    handle = window.requestAnimationFrame(frame);\n  };\n\n  handle = window.requestAnimationFrame(frame);\n};\n/* istanbul ignore next */\n\n\nvar noop = function noop() {\n  return undefined;\n};\n\nvar initialState = {\n  isFinished: false,\n  progress: 0,\n  sideEffect: noop\n};\n\nvar cleanup = function cleanup() {\n  cancel();\n  clear();\n};\n\nvar useNProgress = function useNProgress(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$animationDuratio = _ref.animationDuration,\n      animationDuration = _ref$animationDuratio === void 0 ? 200 : _ref$animationDuratio,\n      _ref$incrementDuratio = _ref.incrementDuration,\n      incrementDuration = _ref$incrementDuratio === void 0 ? 800 : _ref$incrementDuratio,\n      _ref$isAnimating = _ref.isAnimating,\n      isAnimating = _ref$isAnimating === void 0 ? false : _ref$isAnimating,\n      _ref$minimum = _ref.minimum,\n      minimum = _ref$minimum === void 0 ? 0.08 : _ref$minimum;\n\n  var _useGetSetState = useGetSetState(initialState),\n      get = _useGetSetState[0],\n      setState = _useGetSetState[1];\n\n  var set = function set(n) {\n    n = clamp(n, minimum, 1);\n\n    if (n === 1) {\n      cleanup();\n      queue(function (next) {\n        setState({\n          progress: n,\n          sideEffect: function sideEffect() {\n            return timeout(next, animationDuration);\n          }\n        });\n      });\n      queue(function () {\n        setState({\n          isFinished: true,\n          sideEffect: cleanup\n        });\n      });\n      return;\n    }\n\n    queue(function (next) {\n      setState({\n        progress: n,\n        sideEffect: function sideEffect() {\n          return timeout(next, animationDuration);\n        }\n      });\n    });\n  };\n\n  var trickle = function trickle() {\n    set(increment(get().progress));\n  };\n\n  var start = function start() {\n    var work = function work() {\n      trickle();\n      queue(function (next) {\n        timeout(function () {\n          work();\n          next();\n        }, incrementDuration);\n      });\n    };\n\n    work();\n  };\n\n  var savedTrickle = useRef(noop);\n  useEffect(function () {\n    savedTrickle.current = trickle;\n  });\n  useEffectOnce(function () {\n    if (isAnimating) {\n      start();\n    }\n\n    return cleanup;\n  });\n  useUpdateEffect(function () {\n    get().sideEffect();\n  }, [get().sideEffect]);\n  useUpdateEffect(function () {\n    if (!isAnimating) {\n      set(1);\n    } else {\n      setState(_extends({}, initialState, {\n        sideEffect: start\n      }));\n    }\n  }, [isAnimating]);\n  return {\n    animationDuration: animationDuration,\n    isFinished: get().isFinished,\n    progress: get().progress\n  };\n};\n\nvar NProgress = function NProgress(_ref) {\n  var children = _ref.children,\n      restProps = _objectWithoutPropertiesLoose(_ref, [\"children\"]);\n\n  var renderProps = useNProgress(restProps);\n  return children(renderProps);\n};\n\nfunction withNProgress(BaseComponent) {\n  var WithNProgress = function WithNProgress(props) {\n    var hookProps = useNProgress(props);\n    return createElement(BaseComponent, Object.assign({}, props, hookProps));\n  };\n\n  hoistNonReactStatics(WithNProgress, BaseComponent);\n  return WithNProgress;\n}\n\nexport { NProgress, useNProgress, withNProgress };","map":{"version":3,"sources":["../compiled/clamp.js","../compiled/increment.js","../compiled/queue.js","../compiled/timeout.js","../compiled/useNProgress.js","../compiled/NProgress.js","../compiled/withNProgress.js"],"names":["clamp","num","increment","amount","progress","isRunning","pending","next","cb","clear","queue","cancel","window","timeout","frame","start","deltaTime","time","callback","handle","noop","initialState","isFinished","sideEffect","cleanup","cancelCurrentTimeout","clearQueue","useNProgress","animationDuration","incrementDuration","isAnimating","minimum","get","setState","useGetSetState","set","n","trickle","work","savedTrickle","useRef","useEffect","useEffectOnce","useUpdateEffect","NProgress","children","restProps","renderProps","WithNProgress","hookProps","React","Object","hoistNonReactStatics"],"mappings":";;;;;;AAAO,IAAMA,KAAK,GAAG,SAARA,KAAQ,CAAA,GAAA,EAAA,KAAA,EAAA,KAAA,EAAuB;AACxCC,EAAAA,GAAG,GAAGA,GAAG,IAAHA,KAAAA,GAAAA,GAAAA,GAANA,KAAAA;AACAA,EAAAA,GAAG,GAAGA,GAAG,IAAHA,KAAAA,GAAAA,GAAAA,GAANA,KAAAA;AACA,SAAA,GAAA;AAHG,CAAA;;ACCA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAAA,QAAA,EAAc;AACnC,MAAIC,MAAM,GAAV,CAAA;;AACA,MAAIC,QAAQ,IAARA,CAAAA,IAAiBA,QAAQ,GAA7B,GAAA,EAAqC;AACjCD,IAAAA,MAAM,GAANA,GAAAA;AADJ,GAAA,MAGK,IAAIC,QAAQ,IAARA,GAAAA,IAAmBA,QAAQ,GAA/B,GAAA,EAAuC;AACxCD,IAAAA,MAAM,GAANA,IAAAA;AADC,GAAA,MAGA,IAAIC,QAAQ,IAARA,GAAAA,IAAmBA,QAAQ,GAA/B,GAAA,EAAuC;AACxCD,IAAAA,MAAM,GAANA,IAAAA;AADC,GAAA,MAGA,IAAIC,QAAQ,IAARA,GAAAA,IAAmBA,QAAQ,GAA/B,IAAA,EAAwC;AACzCD,IAAAA,MAAM,GAANA,KAAAA;AACH;;AACD,SAAOH,KAAK,CAACI,QAAQ,GAAT,MAAA,EAAA,CAAA,EAAZ,KAAY,CAAZ;AAdG,CAAA;;ACDP,IAAIC,SAAS,GAAb,KAAA;AACA,IAAIC,OAAO,GAAX,EAAA;;AACA,IAAMC,IAAI,GAAG,SAAPA,IAAO,GAAM;AACfF,EAAAA,SAAS,GAATA,IAAAA;AACA,MAAMG,EAAE,GAAGF,OAAO,CAAlB,KAAWA,EAAX;;AACA,MAAA,EAAA,EAAQ;AACJ,WAAOE,EAAE,CAAT,IAAS,CAAT;AACH;;AACDH,EAAAA,SAAS,GAATA,KAAAA;AANJ,CAAA;;AAQO,IAAMI,KAAK,GAAG,SAARA,KAAQ,GAAM;AACvBJ,EAAAA,SAAS,GAATA,KAAAA;AACAC,EAAAA,OAAO,GAAPA,EAAAA;AAFG,CAAA;;AAIA,IAAMI,KAAK,GAAG,SAARA,KAAQ,CAAA,EAAA,EAAQ;AACzBJ,EAAAA,OAAO,CAAPA,IAAAA,CAAAA,EAAAA;;AACA,MAAI,CAAA,SAAA,IAAcA,OAAO,CAAPA,MAAAA,KAAlB,CAAA,EAAwC;AACpCC,IAAAA,IAAI;AACP;AAJE,CAAA;;ACdP,IAAA,MAAA;;AACO,IAAMI,MAAM,GAAG,SAATA,MAAS,GAAM;AACxB,MAAA,MAAA,EAAY;AACRC,IAAAA,MAAM,CAANA,oBAAAA,CAAAA,MAAAA;AACH;AAHE,CAAA;;AAKA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAAA,QAAA,EAAA,KAAA,EAAqB;AACxC,MAAA,SAAA;AACA,MAAA,KAAA;;AACA,MAAMC,KAAK,GAAG,SAARA,KAAQ,CAAA,IAAA,EAAQ;AAClBC,IAAAA,KAAK,GAAGA,KAAK,IAAbA,IAAAA;AACAC,IAAAA,SAAS,GAAGC,IAAI,GAAhBD,KAAAA;;AACA,QAAIA,SAAS,GAAb,KAAA,EAAuB;AACnBE,MAAAA,QAAQ;AACR;AACH;;AACDC,IAAAA,MAAM,GAAGP,MAAM,CAANA,qBAAAA,CAATO,KAASP,CAATO;AAPJ,GAAA;;AASAA,EAAAA,MAAM,GAAGP,MAAM,CAANA,qBAAAA,CAATO,KAASP,CAATO;AAZG,CAAA;ACAP;;;AACA,IAAMC,IAAI,GAAG,SAAPA,IAAO,GAAA;AAAA,SAAA,SAAA;AAAb,CAAA;;AACA,IAAMC,YAAY,GAAG;AACjBC,EAAAA,UAAU,EADO,KAAA;AAEjBlB,EAAAA,QAAQ,EAFS,CAAA;AAGjBmB,EAAAA,UAAU,EAAEH;AAHK,CAArB;;AAKA,IAAMI,OAAO,GAAG,SAAVA,OAAU,GAAM;AAClBC,EAAAA,MAAoB;AACpBC,EAAAA,KAAU;AAFd,CAAA;;AAIA,IAAaC,YAAY,GAAG,SAAfA,YAAe,CAAA,KAAA,EAAoG;AAAA,MAAA,IAAA,GAAA,KAAA,KAAA,KAAA,CAAA,GAAP,EAAO,GAAA,KAAA;AAAA,MAAA,qBAAA,GAAA,IAAA,CAAjGC,iBAAiG;AAAA,MAAjGA,iBAAiG,GAAA,qBAAA,KAAA,KAAA,CAAA,GAA7E,GAA6E,GAAA,qBAAA;AAAA,MAAA,qBAAA,GAAA,IAAA,CAAxEC,iBAAwE;AAAA,MAAxEA,iBAAwE,GAAA,qBAAA,KAAA,KAAA,CAAA,GAApD,GAAoD,GAAA,qBAAA;AAAA,MAAA,gBAAA,GAAA,IAAA,CAA/CC,WAA+C;AAAA,MAA/CA,WAA+C,GAAA,gBAAA,KAAA,KAAA,CAAA,GAAjC,KAAiC,GAAA,gBAAA;AAAA,MAAA,YAAA,GAAA,IAAA,CAA1BC,OAA0B;AAAA,MAA1BA,OAA0B,GAAA,YAAA,KAAA,KAAA,CAAA,GAAhB,IAAgB,GAAA,YAAA;;AAAA,MAAA,eAAA,GACpGG,cAAc,CADsF,YACtF,CADsF;AAAA,MACrHF,GADqH,GAAA,eAAA,CAAA,CAAA,CAAA;AAAA,MAChHC,QADgH,GAAA,eAAA,CAAA,CAAA,CAAA;;AAE5H,MAAME,GAAG,GAAG,SAANA,GAAM,CAAA,CAAA,EAAO;AACfC,IAAAA,CAAC,GAAGpC,KAAK,CAAA,CAAA,EAAA,OAAA,EAAToC,CAAS,CAATA;;AACA,QAAIA,CAAC,KAAL,CAAA,EAAa;AACTZ,MAAAA,OAAO;AACPd,MAAAA,KAAK,CAAC,UAAA,IAAA,EAAQ;AACVuB,QAAAA,QAAQ,CAAC;AACL7B,UAAAA,QAAQ,EADH,CAAA;AAELmB,UAAAA,UAAU,EAAE,SAAA,UAAA,GAAA;AAAA,mBAAMV,OAAO,CAAA,IAAA,EAAb,iBAAa,CAAb;AAAA;AAFP,SAAD,CAARoB;AADJvB,OAAK,CAALA;AAMAA,MAAAA,KAAK,CAAC,YAAM;AACRuB,QAAAA,QAAQ,CAAC;AAAEX,UAAAA,UAAU,EAAZ,IAAA;AAAoBC,UAAAA,UAAU,EAAEC;AAAhC,SAAD,CAARS;AADJvB,OAAK,CAALA;AAGA;AACH;;AACDA,IAAAA,KAAK,CAAC,UAAA,IAAA,EAAQ;AACVuB,MAAAA,QAAQ,CAAC;AACL7B,QAAAA,QAAQ,EADH,CAAA;AAELmB,QAAAA,UAAU,EAAE,SAAA,UAAA,GAAA;AAAA,iBAAMV,OAAO,CAAA,IAAA,EAAb,iBAAa,CAAb;AAAA;AAFP,OAAD,CAARoB;AADJvB,KAAK,CAALA;AAfJ,GAAA;;AAsBA,MAAM2B,OAAO,GAAG,SAAVA,OAAU,GAAM;AAClBF,IAAAA,GAAG,CAACjC,SAAS,CAAC8B,GAAG,GAAjBG,QAAa,CAAV,CAAHA;AADJ,GAAA;;AAGA,MAAMpB,KAAK,GAAG,SAARA,KAAQ,GAAM;AAChB,QAAMuB,IAAI,GAAG,SAAPA,IAAO,GAAM;AACfD,MAAAA,OAAO;AACP3B,MAAAA,KAAK,CAAC,UAAA,IAAA,EAAQ;AACVG,QAAAA,OAAO,CAAC,YAAM;AACVyB,UAAAA,IAAI;AACJ/B,UAAAA,IAAI;AAFD,SAAA,EAAPM,iBAAO,CAAPA;AADJH,OAAK,CAALA;AAFJ,KAAA;;AASA4B,IAAAA,IAAI;AAVR,GAAA;;AAYA,MAAMC,YAAY,GAAGC,MAAM,CAA3B,IAA2B,CAA3B;AACAC,EAAAA,SAAS,CAAC,YAAM;AACZF,IAAAA,YAAY,CAAZA,OAAAA,GAAAA,OAAAA;AADJE,GAAS,CAATA;AAGAC,EAAAA,aAAa,CAAC,YAAM;AAChB,QAAA,WAAA,EAAiB;AACb3B,MAAAA,KAAK;AACR;;AACD,WAAA,OAAA;AAJJ2B,GAAa,CAAbA;AAMAC,EAAAA,eAAe,CAAC,YAAM;AAClBX,IAAAA,GAAG,GAAHA,UAAAA;AADW,GAAA,EAEZ,CAACA,GAAG,GAFPW,UAEG,CAFY,CAAfA;AAGAA,EAAAA,eAAe,CAAC,YAAM;AAClB,QAAI,CAAJ,WAAA,EAAkB;AACdR,MAAAA,GAAG,CAAHA,CAAG,CAAHA;AADJ,KAAA,MAGK;AACDF,MAAAA,QAAQ,CAAA,QAAA,CAAA,EAAA,EAAA,YAAA,EAAA;AAEJV,QAAAA,UAAU,EAAER;AAFR,OAAA,CAAA,CAARkB;AAIH;AATU,GAAA,EAUZ,CAVHU,WAUG,CAVY,CAAfA;AAWA,SAAO;AACHf,IAAAA,iBAAiB,EADd,iBAAA;AAEHN,IAAAA,UAAU,EAAEU,GAAG,GAFZ,UAAA;AAGH5B,IAAAA,QAAQ,EAAE4B,GAAG,GAAG5B;AAHb,GAAP;AA/DG,CAAP;;IChBawC,SAAS,GAAG,SAAZA,SAAY,CAAA,IAAA,EAAgC;AAAA,MAA7BC,QAA6B,GAAA,IAAA,CAA7BA,QAA6B;AAAA,MAAhBC,SAAgB,GAAA,6BAAA,CAAA,IAAA,EAAA,CAAA,UAAA,CAAA,CAAA;;AACrD,MAAMC,WAAW,GAAGpB,YAAY,CAAhC,SAAgC,CAAhC;AACA,SAAOkB,QAAQ,CAAf,WAAe,CAAf;AAFG,C;;ACEA,SAAA,aAAA,CAAA,aAAA,EAAsC;AACzC,MAAMG,aAAa,GAAG,SAAhBA,aAAgB,CAAA,KAAA,EAAS;AAC3B,QAAMC,SAAS,GAAGtB,YAAY,CAA9B,KAA8B,CAA9B;AACA,WAAOuB,aAAAA,CAAAA,aAAAA,EAAmCC,MAAM,CAANA,MAAAA,CAAAA,EAAAA,EAAAA,KAAAA,EAA1C,SAA0CA,CAAnCD,CAAP;AAFJ,GAAA;;AAIAE,EAAAA,oBAAoB,CAAA,aAAA,EAApBA,aAAoB,CAApBA;AACA,SAAA,aAAA;AACH","sourcesContent":["export const clamp = (num, lower, upper) => {\n    num = num <= upper ? num : upper;\n    num = num >= lower ? num : lower;\n    return num;\n};\n","import { clamp } from './clamp';\nexport const increment = (progress) => {\n    let amount = 0;\n    if (progress >= 0 && progress < 0.2) {\n        amount = 0.1;\n    }\n    else if (progress >= 0.2 && progress < 0.5) {\n        amount = 0.04;\n    }\n    else if (progress >= 0.5 && progress < 0.8) {\n        amount = 0.02;\n    }\n    else if (progress >= 0.8 && progress < 0.99) {\n        amount = 0.005;\n    }\n    return clamp(progress + amount, 0, 0.994);\n};\n","let isRunning = false;\nlet pending = [];\nconst next = () => {\n    isRunning = true;\n    const cb = pending.shift();\n    if (cb) {\n        return cb(next);\n    }\n    isRunning = false;\n};\nexport const clear = () => {\n    isRunning = false;\n    pending = [];\n};\nexport const queue = (cb) => {\n    pending.push(cb);\n    if (!isRunning && pending.length === 1) {\n        next();\n    }\n};\n","let handle;\nexport const cancel = () => {\n    if (handle) {\n        window.cancelAnimationFrame(handle);\n    }\n};\nexport const timeout = (callback, delay) => {\n    let deltaTime;\n    let start;\n    const frame = time => {\n        start = start || time;\n        deltaTime = time - start;\n        if (deltaTime > delay) {\n            callback();\n            return;\n        }\n        handle = window.requestAnimationFrame(frame);\n    };\n    handle = window.requestAnimationFrame(frame);\n};\n","import { useEffect, useRef } from 'react';\nimport { useEffectOnce, useGetSetState, useUpdateEffect } from 'react-use';\nimport { clamp } from './clamp';\nimport { increment } from './increment';\nimport { clear as clearQueue, queue } from './queue';\nimport { cancel as cancelCurrentTimeout, timeout } from './timeout';\n/* istanbul ignore next */\nconst noop = () => undefined;\nconst initialState = {\n    isFinished: false,\n    progress: 0,\n    sideEffect: noop\n};\nconst cleanup = () => {\n    cancelCurrentTimeout();\n    clearQueue();\n};\nexport const useNProgress = ({ animationDuration = 200, incrementDuration = 800, isAnimating = false, minimum = 0.08 } = {}) => {\n    const [get, setState] = useGetSetState(initialState);\n    const set = (n) => {\n        n = clamp(n, minimum, 1);\n        if (n === 1) {\n            cleanup();\n            queue(next => {\n                setState({\n                    progress: n,\n                    sideEffect: () => timeout(next, animationDuration)\n                });\n            });\n            queue(() => {\n                setState({ isFinished: true, sideEffect: cleanup });\n            });\n            return;\n        }\n        queue(next => {\n            setState({\n                progress: n,\n                sideEffect: () => timeout(next, animationDuration)\n            });\n        });\n    };\n    const trickle = () => {\n        set(increment(get().progress));\n    };\n    const start = () => {\n        const work = () => {\n            trickle();\n            queue(next => {\n                timeout(() => {\n                    work();\n                    next();\n                }, incrementDuration);\n            });\n        };\n        work();\n    };\n    const savedTrickle = useRef(noop);\n    useEffect(() => {\n        savedTrickle.current = trickle;\n    });\n    useEffectOnce(() => {\n        if (isAnimating) {\n            start();\n        }\n        return cleanup;\n    });\n    useUpdateEffect(() => {\n        get().sideEffect();\n    }, [get().sideEffect]);\n    useUpdateEffect(() => {\n        if (!isAnimating) {\n            set(1);\n        }\n        else {\n            setState({\n                ...initialState,\n                sideEffect: start\n            });\n        }\n    }, [isAnimating]);\n    return {\n        animationDuration,\n        isFinished: get().isFinished,\n        progress: get().progress\n    };\n};\n","import { useNProgress } from './useNProgress';\nexport const NProgress = ({ children, ...restProps }) => {\n    const renderProps = useNProgress(restProps);\n    return children(renderProps);\n};\n","import hoistNonReactStatics from 'hoist-non-react-statics';\nimport * as React from 'react';\nimport { useNProgress } from './useNProgress';\nexport function withNProgress(BaseComponent) {\n    const WithNProgress = props => {\n        const hookProps = useNProgress(props);\n        return React.createElement(BaseComponent, Object.assign({}, props, hookProps));\n    };\n    hoistNonReactStatics(WithNProgress, BaseComponent);\n    return WithNProgress;\n}\n"]},"metadata":{},"sourceType":"module"}